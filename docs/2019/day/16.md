```js
const fillPattern = (function () {
	let cachedPatterns = {};
	return (n) => {
		if (cachedPatterns[n]) {
			return cachedPatterns[n];
		}

		let pattern = [];
		for (let num of [0, 1, 0, -1]) {
			for (let i = 0; i < n; i++) {
				pattern.push(num);
			}
		}

		// Offset the whole pattern left by one
		let first_digit = pattern.shift();
		pattern.push(first_digit);

		cachedPatterns[n] = pattern;

		return pattern;
	};
})();

var table = function (input) {
	let pad = String(input.length).length;
	let space = '#'.padStart(pad);
	let header = `| ${space} |   ${input.join('  |   ')}  |`;
	let line = header
		.split('')
		.map((c) => (c === '|' ? '|' : '-'))
		.join('');
	let grid = [];

	let mid = Math.floor(input.length / 2);
	for (let y = 0; y < input.length; y++) {
		let row = [];
		let pattern = fillPattern(y + 1);
		for (let x = 0; x < input.length; x++) {
			let char = '    ';
			let i = x % pattern.length;
			let scalar = pattern[i];

			if (y >= mid) {
				if (scalar === 1) {
					char = ` *${input[x]}*`;
				} else if (scalar === -1) {
					char = `*-${input[x]}*`;
				}
			} else {
				if (scalar === 1) {
					char = `  ${input[x]} `;
				} else if (scalar === -1) {
					char = ` -${input[x]} `;
				}
			}

			row.push(char);
		}

		grid.push(`| ${(y + 1).toString().padStart(pad)} | ${row.join(' | ')} |`);
	}

	let output = [header, line, ...grid].join('\n');
	return output;
};
```
